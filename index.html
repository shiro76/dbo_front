<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="./dragon-ball-goku-seeklogo.ico" type="image/x-icon">
    <link rel="stylesheet" type="text/css" href="css/index.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <title>Mouse Follower Animation with Drawing</title>
    <style>
        body, html {
            display: flex;
            flex-direction: column;
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            /* overflow: hidden; */
        }
        canvas {
            border: solid 3px black;
            display: flex;
            width: 100%;
            height: 100%;
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <header class="header">
        <a href="register.html">register</a>
        <a href="login.html">login</a>
        <a href="./dboEmblemCreator-master/index.html">embleme-Creator</a>
        <a href="./dboSkillCalculator-master/index.html">skill-calculator</a>
        <a href="./dboMapTool-master/index.html">Map</a>
    </header>
    <main>
        <div class="container">
            <div class="row">
                <div class="col-md-2 text-center font-weight-bold">Âge</div>
                <div class="col-md-10 font-weight-bold">Contenu</div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >749</div>
                <div class="col-md-10" >
                    <p>Goku et Bulma se rencontrent pour la première fois. Goku a la Dragon Ball à 4 étoiles de son grand-père Gohan.</p>
                    <p>Maître Roshi utilise le Kamehameha pour éteindre les flammes sur la Montagne Fry-Pan. Malheureusement, la décharge était si forte qu'elle a détruit la montagne ainsi que le château. Parmi les débris, la Dragon Ball à 7 étoiles a été trouvée.</p>
                    <p>Goku envoie Boss Rabbit et son gang sur la lune. Mai et Shu volent toutes les Dragon Balls sauf une à Goku et ses amis. Le gang de Pilaf obtient enfin toutes les Dragon Balls, puis Pilaf invoque Shenron et Oolong souhaite avoir des sous-vêtements. Plus tard, Goku regarde la lune et se transforme en Grand Singe (Ozaru), détruisant le château de Pilaf.</p>
                    <p>Goku et Krilin deviennent les élèves de Maître Roshi après avoir trouvé une fille nommée Launch pour lui. Plus tard, Roshi déplace sa maison sur une île plus grande. Goku et Krilin se préparent ensuite à un entraînement ardu avec le maître des arts martiaux.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >750</div>
                <div class="col-md-10" >
                    <p>Le 21e tournoi mondial des arts martiaux a lieu. Jackie Chun gagne, et Goku est le finaliste.</p>
                    <p>Goku, l'armée du Ruban Rouge et Pilaf luttent pour obtenir toutes les Dragon Balls. L'armée du Ruban Rouge obtient la Dragon Ball à 6 étoiles de la base de Pilaf dans le désert. Ils obtiennent aussi la Dragon Ball à 5 étoiles.</p>
                    <p>Goku fait s'écraser l'avion de l'armée du Ruban Rouge et se retrouve dans le village Jingle. Ensuite, Goku détruit la tour Muscle de l'armée du Ruban Rouge située au nord.</p>
                    <p>Goku et le Général Blue se battent dans le ciel au-dessus du village Penguin. Arale prend les choses en main et bat Blue toute seule.</p>
                    <p>Goku est battu par le Mercenaire Tao au pied de la tour Korin.</p>
                    <p>Goku décide alors de devenir plus fort et atteint le sommet de la tour Korin pour commencer son entraînement afin de prendre l'Eau Sacrée de Korin. Après 3 jours d'entraînement, Goku obtient enfin l'Eau Sacrée, qui n'était en fait que de l'eau du robinet ordinaire. Ce qui comptait vraiment, c'était l'entraînement qu'il avait fait pour obtenir l'eau, ce qui l'a rendu plus fort.</p>
                    <p>Goku finit par vaincre le Mercenaire Tao au pied de la tour Korin et détruit à lui seul toute l'armée du Ruban Rouge.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >753</div>
                <div class="col-md-10">
                    <p>Le 22e tournoi mondial des arts martiaux a lieu. Ten Shin Han gagne. Goku est à nouveau finaliste de justesse.</p>
                    <p>Le roi Piccolo apparaît !</p>
                    <p>Goku bat le roi Piccolo. En mourant, le roi Piccolo recrache un œuf loin qui contient sa réincarnation, Piccolo Jr.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >756</div>
                <div class="col-md-10">
                    <p>Le 23e tournoi mondial des arts martiaux commence. Goku se fiance à Chi-Chi. Goku bat Piccolo Jr. et gagne le tournoi pour la première fois.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >761</div>
                <div class="col-md-10">
                    <p>Raditz arrive sur Terre à la recherche de son frère Goku ! Goku et Piccolo font équipe pour vaincre le méchant Saiyan, et dans le processus, Goku et Raditz sont tués par le Canon Spécial de Piccolo.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center">762</div>
                <div class="col-md-10" >
                    <p>Après la mort de Goku, il parcourt le chemin du serpent dans l'au-delà et arrive sur la planète du roi Kai.</p>
                    <p>Vegeta et Nappa arrivent sur Terre. Les Z Fighters combattent les Saibamen et Yamcha se fait tuer dans le processus. Gohan, Piccolo, Ten, Krilin et Chaozu affrontent ensuite Nappa. Chaozu, Ten et Piccolo sont tués.</p>
                    <p>Pour ressusciter leurs amis, Gohan, Krilin et Bulma décident d'aller sur la planète Namek pour rassembler les Dragon Balls. Bulma apprend alors des leçons de la langue Namek. Finalement, ils partent pour Namek à bord du vaisseau spatial dans lequel Kami-sama est arrivé.</p>
                    <p>Vegeta, Cui, Bulma, Krilin et Gohan atterrissent tous sur Namek à peu près en même temps.</p>
                    <p>Une fois que Goku se remet de toutes ses blessures subies lors du combat contre Vegeta, il décide de partir pour Namek. Pendant ce temps sur la planète Namek, Dende emmène Krilin rencontrer le Grand Ancien Guru.</p>
                    <p>Goku arrive sur Namek et bat Jeice, Burter et Recoome, leur épargnant la vie. Dende utilise les Dragon Balls de Namek pour ressusciter Piccolo sur Namek. Dende, Vegeta et Krilin sont tués par Freezer. Goku se transforme en Super Saiyan pour la première fois. Goku épargne toujours la vie de Freezer, mais la fierté de Freezer le fait exploser en morceaux par une décharge de Ki de Goku. Namek explose.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >763</div>
                <div class="col-md-10" >
                    <p>Cell arrive de l'année 788 dans la machine temporelle de Trunks du Futur et se met sous terre pour absorber des nutriments et devenir plus fort.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >764</div>
                <div class="col-md-10">
                    <p>Trunks du Futur arrive. Il tue Mecha Freezer et son père King Cold. Puis il informe Goku des Androïdes et que Goku attrapera un virus cardiaque.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >767</div>
                <div class="col-md-10" >
                    <p>Les Androïdes 19 et 20 (Dr. Gero) arrivent.</p>
                    <p>Piccolo et Kami fusionnent.</p>
                    <p>Goku combat l'Androïde 19 mais est frappé par le virus cardiaque dont il avait été informé par Trunks.</p>
                    <p>Chi-Chi commence à donner le médicament contre le cœur que Trunks du Futur avait donné à Goku pour guérir son virus cardiaque.</p>
                    <p>Vegeta permet à Cell d'atteindre sa forme parfaite en absorbant l'Androïde 18.</p>
                    <p>Dende devient le nouveau Gardien de la Terre.</p>
                    <p>À midi, les Jeux de Cell commencent. Mr. Satan affronte Cell et est facilement battu. Goku combat Cell. Il abandonne et dit à Gohan de combattre. Gohan se transforme en Super Saiyan 2. Cell, craignant Gohan, commence à activer la bombe à l'intérieur de lui et Goku meurt une seconde fois en se téléportant avec Cell sur la planète du roi Kai, se sacrifiant pour sauver la Terre. Cell survit et revient plus fort que jamais. Gohan parvient tout de même à détruire Cell avec la vague Kamehameha pour de bon.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >774</div>
                <div class="col-md-10" >
                    <p>Le 25e tournoi mondial des arts martiaux a lieu. Goku revient sur Terre pour une seule journée pour participer au tournoi.</p>
                    <p>Le match est interrompu lorsque Vegeta est possédé par le sort de Babidi. Vegeta combat Buu et sacrifie sa vie en essayant de le vaincre. Buu tue Babidi. Goku combat Buu en Super Saiyan 3. En raison de la transformation en Super Saiyan 3, Goku est obligé de retourner dans l'au-delà plus tôt.</p>
                    <p>Gohan libère accidentellement l'Ancien Kai de l'Épée Z. L'Ancien Kai commence la cérémonie pour libérer le pouvoir dormant de Gohan.</p>
                    <p>Piccolo, Gohan et Gotenks sont absorbés par Buu. L'Ancien Kai donne sa vie à Goku, lui permettant de revenir sur Terre. Vegeta revient sur Terre avec l'aide de la diseuse de bonne aventure Baba. Goku et Vegeta fusionnent en Vegito et démantèlent facilement Buu. Vegeta arrache le Bon Buu de Super Buu, le faisant revenir à sa forme originale, Kid Buu. Kid Buu détruit la Terre. Goku et Vegeta combattent Buu sur le monde des Kais. Porunga restaure la Terre. La vie de Vegeta est restaurée lorsque tous les bons gens qui sont morts sont ressuscités. Goku détruit Buu avec la Super Bombe Spirituelle.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >784</div>
                <div class="col-md-10" >
                    <p>Le 28e tournoi mondial des arts martiaux a lieu. Goku part avec Uub pour l'entraîner.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >790</div>
                <div class="col-md-10" >
                    <p>Mr. Buu crée une Majin féminine appelée Miss Buu après avoir lu l'un des livres pour adultes de Mr. Satan, "Bob & Margaret", qu'il a trouvé dans la bibliothèque de Mr. Satan.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >791</div>
                <div class="col-md-10" >
                    <p>Baby Buu est né via le Rayon Amoureux : les deux parents arrachent de nombreux morceaux de diverses parties de leur corps, les mélangent ensemble et insufflent la vie dans les morceaux en forme de boulettes en leur tirant dessus avec le rayon.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >804</div>
                <div class="col-md-10" >
                    <p>Gohan commence ses recherches pour son livre "Science Révolutionnaire". Cet événement mène à la création de l'école d'épée Kikoukenjutsu de Trunks et Goten l'année suivante, en 805, et aux écoles de la Tortue et de la Grue rétablies par Krilin et Ten en 821. En conséquence, d'ici l'année 1000, de nombreux Terriens ont adopté les arts martiaux avancés et comprennent le contrôle du ki.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >805</div>
                <div class="col-md-10" >
                    <p>Trunks et Goten créent l'école d'épée Kikoukenjutsu, qui enseigne le principe de canaliser l'énergie ki à travers les épées pour augmenter la puissance de frappe.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >820</div>
                <div class="col-md-10" >
                    <p>Mr. Satan meurt. Le roi de la Terre lui rend hommage avec des funérailles nationales.</p>
                    <p>Les restes de l'armée galactique de Freezer attaquent la Terre pour les Dragon Balls, mais sont vaincus avec l'aide de l'école d'épée Kikoukenjutsu de Trunks et Goten.</p>
                    <p>Avec la Terre en crise, les héros du passé se rassemblent chez Maître Roshi pour éradiquer les restes des soldats de Freezer. Ceux qui battent finalement les soldats de Freezer sont Krilin, Ten Shin Han et leurs camarades, les héros du passé. Pour cacher leur identité, les guerriers portent des costumes de type Saiyaman, mais leur style de combat basé sur le ki devient un sujet brûlant et l'intérêt mondial pour le "ki" augmente.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >821</div>
                <div class="col-md-10" >
                    <p>Peut-être que la décision de Krilin d'établir son école dans la ville où Goku avait d'abord démontré sa force était une expression de son esprit compétitif. De telles croyances continuent d'être portées par les "Hermites de la Tortue", même après la mort de Krilin. La croyance de Ten Shin Han d'attaquer avec des décharges de ki concentrées à des moments précis est portée par les "Hermites de la Grue" successifs.</p>
                    <p>Krilin et Ten commencent à enseigner l'école de la Tortue et l'école de la Grue rétablies.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >834</div>
                <div class="col-md-10" >
                    <p>Les Majins influencés par Majin Mani Mani deviennent actifs dans le monde entier, devenant les ancêtres des nouvelles classes de Majin : "Ultime", "Grand" et "Karma".</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >851</div>
                <div class="col-md-10" >
                    <p>La nouvelle planète Namek est détruite par Mira et son armée en utilisant une Genki Dama. Le Grand Ancien Moori et plusieurs centaines d'autres Namekians migrent vers la Terre. À la suite de cela, les Namekians s'installent sur Terre, et Dende avertit le roi de la Terre de l'armée de Mira. Cependant, cette information est gardée secrète des citoyens moyens, car on craint qu'elle ne cause une panique. Au début, les Namekians vivent à West City. Plus tard, la plupart d'entre eux déménagent aux Roches Porunga dans les hauteurs de Yunzabit, mais certains d'entre eux restent à West City et développent leur propre culture.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >853</div>
                <div class="col-md-10" >
                    <p>Pour expier la perte de leur planète d'origine, les Namekians qui ont déménagé sur Terre commencent à s'entraîner pour se défendre. Cela aboutit à la création des bases des classes modernes "Guerrier de l'Ombre", "Guerrier Sombre", "Prêtre Dende" et "Prêtre Poko".</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >975</div>
                <div class="col-md-10" >
                    <p>Le monde adopte une nouvelle politique d'éducation des enfants : "Éducation des Fauteurs de Troubles", dans laquelle les enfants sont retirés des soins aimants de leurs parents et vivent de manière indépendante dans la nature. Les villages "Kokkara" et "Pear" sont établis.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >990</div>
                <div class="col-md-10" >
                    <p>La paix mondiale se détériore ; des organisations criminelles émergent à la suite des troubles entourant les animaux sauvages monstrueux et les bêtes démoniaques qui rôdent sur Terre. Dende fait installer des "Pierres Popo" partout dans le monde.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >991</div>
                <div class="col-md-10" >
                    <p>Le tournoi mondial des arts martiaux autorise l'utilisation d'armes et d'armures dans la division "Combat Ultime". Grâce à Mr. Satan, l'intérêt pour le tournoi mondial est renouvelé et il gagne à nouveau en popularité. Le combat du champion Morgan contre 100 robots a suscité des discussions. Les ingénieurs se sont mobilisés, affirmant "les robots ne sont pas si faibles !". Le tournoi mondial ajoute enfin une division "Combat Ultime", où les participants peuvent utiliser des armes, des armures et des robots.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >996</div>
                <div class="col-md-10" >
                    <p>Trunks du Futur, devenu un patrouilleur temporel, arrive dans sa machine temporelle et informe tout le monde de l'existence de Mira et du danger imminent qu'il pose à l'univers.</p>
                    <p>À la demande de Dende, Piccolo enquête sur les diverses organisations criminelles apparues dans le monde.</p>
                    <p>La menace de Mira est révélée. Piccolo, avec l'aide de Dende, rassemble des forces pour repousser l'invasion de Mira. Capsule Corporation commence à produire en masse un nouveau type de robot.</p>
                    <p>Dende crée plusieurs ensembles de Dragon Balls, plus faibles que les originaux, espérant que les jeunes guerriers en bénéficieront en se battant pour les obtenir. La présence de plusieurs ensembles permet aux guerriers de niveaux de compétence divers d'avoir une chance réaliste de les rassembler. Par peur qu'ils soient exploités, Dende limite leur pouvoir, restreignant les souhaits qui peuvent être exaucés. Capsule Corporation commence la production en masse du modèle de robot nommé "GBT…Hope!".</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >1000</div>
                <div class="col-md-10" >
                    <p>La Terre est divisée en morceaux. Il y a des ennemis tels que les Briseurs de Temps (dirigés par Towa et Mira), les Namekians maléfiques (dirigés par Naraka), l'armée des Pantalons Rouges (dirigée par l'Androïde 9, Dr. Gero et Général Bon), et le gang Paella (un gang similaire au gang de Pilaf), et chaque groupe avec des objectifs sinistres propres...</p>
                </div>
            </div>
        </div>
    </main>
    
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        const LINE_DURATION = 2;
        const LINE_WIDTH_START = 5;
        
        $(document).ready(function() {
            enableDrawingCanvas();
            resizeCanvas(window.innerWidth, window.innerHeight);

            $(document).on('mousemove', function(e) {
                const mouseFollower = document.getElementById('mouseFollower');
                const x = e.clientX;
                //const y = e.clientY; // Ajuster pour le défilement
                const y = e.clientY + window.scrollY; // Ajuster pour le défilement
                mouseFollower.style.left = `${x}%`;
                mouseFollower.style.top = `${y}%`;

                if (frame === drawEveryFrame) {
                    addPoint(e.pageX, e.pageY); // Ajuster pour le défilement
                    frame = 0;
                }
                frame++;
            });

            $(document).on('touchstart', function(e) {
                var touch = e.touches[0];
                const mouseFollower = document.getElementById('mouseFollower');
                const x = touch.clientX;
                const y = touch.clientY; // Ajuster pour le défilement
                //const y = touch.clientY + window.scrollY; // Ajuster pour le défilement
                mouseFollower.style.left = `${x}px`;
                mouseFollower.style.top = `${y}px`;
                addPoint(touch.pageX, touch.pageY); // Ajuster pour le défilement
            });

            $(document).on('touchmove', function(e) {
                var touch = e.touches[0];
                const mouseFollower = document.getElementById('mouseFollower');
                const x = touch.clientX;
                const y = touch.clientY; // Ajuster pour le défilement
                //const y = touch.clientY + window.scrollY; // Ajuster pour le défilement
                mouseFollower.style.left = `${x}px`;
                mouseFollower.style.top = `${y}px`;
                addPoint(touch.pageX, touch.pageY); // Ajuster pour le défilement
            });

            $(document).on('touchend', function(e) {});
        });

        //////////////////////////
        // Variable definitions //
        //////////////////////////
        var active = true;

        var canvas;
        var context;

        var newWidth = 1000;
        var newHeight = 800;

        var mode = 1;
        var pathMode = 1;
        var spread = 2;

        var lineColor = 'rgb(237, 184, 131)';
        var lineDuration = LINE_DURATION;
        var lineFadeLinger = 1;
        var lineWidthStart = LINE_WIDTH_START;
        var fadeDuration = 50;
        var drawEveryFrame = 1; // Only adds a Point after these many 'mousemove' events

        var clickCount = 0;
        var frame = 0;

        var flipNext = true;

        var points = new Array();

        ///////////////////////
        // Program functions //
        ///////////////////////

        // Find canvas reference & enable listeners
        function enableDrawingCanvas() {
            if (canvas === undefined) {
                canvas = document.getElementById('myCanvas');
                context = canvas.getContext('2d');
                enableListeners();
                init();
            }
        }

        // Initialize animation start
        function init() {
            draw();
        }

        // Draw current state
        function draw() {
            if (active) {
                animatePoints();
                window.requestAnimFrame(draw);
            }
        }

        // Update mouse positions
        function animatePoints() {
            context.clearRect(0, 0, context.canvas.width, context.canvas.height);

            var duration = lineDuration * 1000 / 60;
            var point, lastPoint;

            if (pathMode === 2) {
                context.beginPath();
            }

            for (var i = 0; i < points.length; i++) {
                point = points[i];

                if (points[i - 1] !== undefined) {
                    lastPoint = points[i - 1];
                } else {
                    lastPoint = points[i];
                }

                point.lifetime += 1;

                if (point.lifetime > duration) {
                    points.splice(i, 1);
                    continue;
                }

                // Begin drawing stuff!
                var inc = (point.lifetime / duration); // 0 to 1 over lineDuration
                var dec = 1 - inc;

                var spreadRate;
                if (spread === 1) {
                    spreadRate = lineWidthStart / (point.lifetime * 2);
                } // Lerp Decrease
                if (spread === 2) {
                    spreadRate = lineWidthStart * (1 - inc);
                } // Linear Decrease

                var fadeRate = dec;

                //context.strokeStyle = lineColor;
                context.lineJoin = "round";
                context.lineWidth = spreadRate;
                context.strokeStyle = 'rgb(' + Math.floor(255) + ',' +
                    Math.floor(200 - (255 * dec)) + ',' +
                    Math.floor(200 - (255 * inc)) + ')';

                var distance = Point.distance(lastPoint, point);
                var midpoint = Point.midPoint(lastPoint, point);
                var angle = Point.angle(lastPoint, point);

                if (pathMode === 1) {
                    context.beginPath();
                }

                if (mode === 1) {
                    context.arc(midpoint.x, midpoint.y, distance / 2, angle, (angle + Math.PI), point.flip);
                }

                if (mode === 2) {
                    context.moveTo(lastPoint.x, lastPoint.y);
                    context.lineTo(point.x, point.y);
                }

                if (pathMode === 1) {
                    context.stroke();
                    context.closePath();
                }
            }

            if (pathMode === 2) {
                context.stroke();
                context.closePath();
            }

            //if (points.length > 0) { console.log(spreadRate + "|" + points.length + " points alive."); }
        }

        function addPoint(x, y) {
            flipNext = !flipNext;
            var point = new Point(x, y, 0, flipNext);
            points.push(point);
        }

        //////////////////////////////
        // Less Important functions //
        //////////////////////////////

        // RequestAnimFrame definition
        window.requestAnimFrame = (function(callback) {
            return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame ||
                function(callback) {
                    window.setTimeout(callback, 1000 / 60);
                };
        })();

        // Update canvas dimensions based on input
        function resizeCanvas(w, h) {
            if (context !== undefined) {
                context.canvas.width = w;
                context.canvas.height = h;

                newWidth = w;
                newHeight = h;
            }
        }

        // Listeners for mouse and touch events
        function enableListeners() {
            // Attach listeners to the entire document
            $(document).on('mousemove', function(e) {
                if (frame === drawEveryFrame) {
                    //addPoint(e.pageX, e.pageY); // Ajuster pour le défilement
                    addPoint(e.pageX, e.pageY - window.scrollY); // Ajuster pour le défilement
                    frame = 0;
                }
                frame++;
            });

            $(document).on('touchstart', function(e) {
                var touch = e.touches[0];
                addPoint(touch.pageX, touch.pageY); // Ajuster pour le défilement
                //addPoint(touch.pageX, touch.pageY + window.scrollY); // Ajuster pour le défilement
            });

            $(document).on('touchmove', function(e) {
                var touch = e.touches[0];
                addPoint(touch.pageX, touch.pageY); // Ajuster pour le défilement
                // addPoint(touch.pageX, touch.pageY + window.scrollY); // Ajuster pour le défilement
            });

            $(document).on('touchend', function(e) {});
        }

        // POINT CLASS
        // Cartesian location of where mouse location
        // was previously at. 
        // Used to draw arcs between Points.
        var Point = class Point {
            // Define class constructor
            constructor(x, y, lifetime, flip) {
                this.x = x;
                this.y = y;
                this.lifetime = lifetime;
                this.flip = flip;
            }

            // Get the distance between a & b
            static distance(a, b) {
                const dx = a.x - b.x;
                const dy = a.y - b.y;

                return Math.sqrt(dx * dx + dy * dy);
            }

            // Get the mid point between a & b
            static midPoint(a, b) {
                const mx = a.x + (b.x - a.x) * 0.5;
                const my = a.y + (b.y - a.y) * 0.5;

                return new Point(mx, my);
            }

            // Get the angle between a & b
            static angle(a, b) {
                const dx = a.x - b.x;
                const dy = a.y - b.y;

                return Math.atan2(dy, dx);
            }

            // Simple getter for printing
            get pos() {
                return this.x + "," + this.y;
            }
        }
    </script>
</body>
<canvas id="myCanvas"></canvas>
</html>


<!-- <!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="icon" href="./dragon-ball-goku-seeklogo.ico" type="image/x-icon">
    <link rel="stylesheet" type="text/css" href="css/index.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
    <header class="header">
        <a href="register.html">register</a>
        <a href="login.html">login</a>
        <a href="./dboEmblemCreator-master/index.html">embleme-Creator</a>
        <a href="./dboSkillCalculator-master/index.html">skill-calculator</a>
        <a href="./dboMapTool-master/index.html">Map</a>
    </header>
    
    <main>
        <div class="container">
            <div class="row">
                <div class="col-md-2 text-center font-weight-bold">Âge</div>
                <div class="col-md-10 font-weight-bold">Contenu</div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >749</div>
                <div class="col-md-10" >
                    <p>Goku et Bulma se rencontrent pour la première fois. Goku a la Dragon Ball à 4 étoiles de son grand-père Gohan.</p>
                    <p>Maître Roshi utilise le Kamehameha pour éteindre les flammes sur la Montagne Fry-Pan. Malheureusement, la décharge était si forte qu'elle a détruit la montagne ainsi que le château. Parmi les débris, la Dragon Ball à 7 étoiles a été trouvée.</p>
                    <p>Goku envoie Boss Rabbit et son gang sur la lune. Mai et Shu volent toutes les Dragon Balls sauf une à Goku et ses amis. Le gang de Pilaf obtient enfin toutes les Dragon Balls, puis Pilaf invoque Shenron et Oolong souhaite avoir des sous-vêtements. Plus tard, Goku regarde la lune et se transforme en Grand Singe (Ozaru), détruisant le château de Pilaf.</p>
                    <p>Goku et Krilin deviennent les élèves de Maître Roshi après avoir trouvé une fille nommée Launch pour lui. Plus tard, Roshi déplace sa maison sur une île plus grande. Goku et Krilin se préparent ensuite à un entraînement ardu avec le maître des arts martiaux.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >750</div>
                <div class="col-md-10" >
                    <p>Le 21e tournoi mondial des arts martiaux a lieu. Jackie Chun gagne, et Goku est le finaliste.</p>
                    <p>Goku, l'armée du Ruban Rouge et Pilaf luttent pour obtenir toutes les Dragon Balls. L'armée du Ruban Rouge obtient la Dragon Ball à 6 étoiles de la base de Pilaf dans le désert. Ils obtiennent aussi la Dragon Ball à 5 étoiles.</p>
                    <p>Goku fait s'écraser l'avion de l'armée du Ruban Rouge et se retrouve dans le village Jingle. Ensuite, Goku détruit la tour Muscle de l'armée du Ruban Rouge située au nord.</p>
                    <p>Goku et le Général Blue se battent dans le ciel au-dessus du village Penguin. Arale prend les choses en main et bat Blue toute seule.</p>
                    <p>Goku est battu par le Mercenaire Tao au pied de la tour Korin.</p>
                    <p>Goku décide alors de devenir plus fort et atteint le sommet de la tour Korin pour commencer son entraînement afin de prendre l'Eau Sacrée de Korin. Après 3 jours d'entraînement, Goku obtient enfin l'Eau Sacrée, qui n'était en fait que de l'eau du robinet ordinaire. Ce qui comptait vraiment, c'était l'entraînement qu'il avait fait pour obtenir l'eau, ce qui l'a rendu plus fort.</p>
                    <p>Goku finit par vaincre le Mercenaire Tao au pied de la tour Korin et détruit à lui seul toute l'armée du Ruban Rouge.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >753</div>
                <div class="col-md-10">
                    <p>Le 22e tournoi mondial des arts martiaux a lieu. Ten Shin Han gagne. Goku est à nouveau finaliste de justesse.</p>
                    <p>Le roi Piccolo apparaît !</p>
                    <p>Goku bat le roi Piccolo. En mourant, le roi Piccolo recrache un œuf loin qui contient sa réincarnation, Piccolo Jr.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >756</div>
                <div class="col-md-10">
                    <p>Le 23e tournoi mondial des arts martiaux commence. Goku se fiance à Chi-Chi. Goku bat Piccolo Jr. et gagne le tournoi pour la première fois.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >761</div>
                <div class="col-md-10">
                    <p>Raditz arrive sur Terre à la recherche de son frère Goku ! Goku et Piccolo font équipe pour vaincre le méchant Saiyan, et dans le processus, Goku et Raditz sont tués par le Canon Spécial de Piccolo.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center">762</div>
                <div class="col-md-10" >
                    <p>Après la mort de Goku, il parcourt le chemin du serpent dans l'au-delà et arrive sur la planète du roi Kai.</p>
                    <p>Vegeta et Nappa arrivent sur Terre. Les Z Fighters combattent les Saibamen et Yamcha se fait tuer dans le processus. Gohan, Piccolo, Ten, Krilin et Chaozu affrontent ensuite Nappa. Chaozu, Ten et Piccolo sont tués.</p>
                    <p>Pour ressusciter leurs amis, Gohan, Krilin et Bulma décident d'aller sur la planète Namek pour rassembler les Dragon Balls. Bulma apprend alors des leçons de la langue Namek. Finalement, ils partent pour Namek à bord du vaisseau spatial dans lequel Kami-sama est arrivé.</p>
                    <p>Vegeta, Cui, Bulma, Krilin et Gohan atterrissent tous sur Namek à peu près en même temps.</p>
                    <p>Une fois que Goku se remet de toutes ses blessures subies lors du combat contre Vegeta, il décide de partir pour Namek. Pendant ce temps sur la planète Namek, Dende emmène Krilin rencontrer le Grand Ancien Guru.</p>
                    <p>Goku arrive sur Namek et bat Jeice, Burter et Recoome, leur épargnant la vie. Dende utilise les Dragon Balls de Namek pour ressusciter Piccolo sur Namek. Dende, Vegeta et Krilin sont tués par Freezer. Goku se transforme en Super Saiyan pour la première fois. Goku épargne toujours la vie de Freezer, mais la fierté de Freezer le fait exploser en morceaux par une décharge de Ki de Goku. Namek explose.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >763</div>
                <div class="col-md-10" >
                    <p>Cell arrive de l'année 788 dans la machine temporelle de Trunks du Futur et se met sous terre pour absorber des nutriments et devenir plus fort.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >764</div>
                <div class="col-md-10">
                    <p>Trunks du Futur arrive. Il tue Mecha Freezer et son père King Cold. Puis il informe Goku des Androïdes et que Goku attrapera un virus cardiaque.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >767</div>
                <div class="col-md-10" >
                    <p>Les Androïdes 19 et 20 (Dr. Gero) arrivent.</p>
                    <p>Piccolo et Kami fusionnent.</p>
                    <p>Goku combat l'Androïde 19 mais est frappé par le virus cardiaque dont il avait été informé par Trunks.</p>
                    <p>Chi-Chi commence à donner le médicament contre le cœur que Trunks du Futur avait donné à Goku pour guérir son virus cardiaque.</p>
                    <p>Vegeta permet à Cell d'atteindre sa forme parfaite en absorbant l'Androïde 18.</p>
                    <p>Dende devient le nouveau Gardien de la Terre.</p>
                    <p>À midi, les Jeux de Cell commencent. Mr. Satan affronte Cell et est facilement battu. Goku combat Cell. Il abandonne et dit à Gohan de combattre. Gohan se transforme en Super Saiyan 2. Cell, craignant Gohan, commence à activer la bombe à l'intérieur de lui et Goku meurt une seconde fois en se téléportant avec Cell sur la planète du roi Kai, se sacrifiant pour sauver la Terre. Cell survit et revient plus fort que jamais. Gohan parvient tout de même à détruire Cell avec la vague Kamehameha pour de bon.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >774</div>
                <div class="col-md-10" >
                    <p>Le 25e tournoi mondial des arts martiaux a lieu. Goku revient sur Terre pour une seule journée pour participer au tournoi.</p>
                    <p>Le match est interrompu lorsque Vegeta est possédé par le sort de Babidi. Vegeta combat Buu et sacrifie sa vie en essayant de le vaincre. Buu tue Babidi. Goku combat Buu en Super Saiyan 3. En raison de la transformation en Super Saiyan 3, Goku est obligé de retourner dans l'au-delà plus tôt.</p>
                    <p>Gohan libère accidentellement l'Ancien Kai de l'Épée Z. L'Ancien Kai commence la cérémonie pour libérer le pouvoir dormant de Gohan.</p>
                    <p>Piccolo, Gohan et Gotenks sont absorbés par Buu. L'Ancien Kai donne sa vie à Goku, lui permettant de revenir sur Terre. Vegeta revient sur Terre avec l'aide de la diseuse de bonne aventure Baba. Goku et Vegeta fusionnent en Vegito et démantèlent facilement Buu. Vegeta arrache le Bon Buu de Super Buu, le faisant revenir à sa forme originale, Kid Buu. Kid Buu détruit la Terre. Goku et Vegeta combattent Buu sur le monde des Kais. Porunga restaure la Terre. La vie de Vegeta est restaurée lorsque tous les bons gens qui sont morts sont ressuscités. Goku détruit Buu avec la Super Bombe Spirituelle.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >784</div>
                <div class="col-md-10" >
                    <p>Le 28e tournoi mondial des arts martiaux a lieu. Goku part avec Uub pour l'entraîner.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >790</div>
                <div class="col-md-10" >
                    <p>Mr. Buu crée une Majin féminine appelée Miss Buu après avoir lu l'un des livres pour adultes de Mr. Satan, "Bob & Margaret", qu'il a trouvé dans la bibliothèque de Mr. Satan.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >791</div>
                <div class="col-md-10" >
                    <p>Baby Buu est né via le Rayon Amoureux : les deux parents arrachent de nombreux morceaux de diverses parties de leur corps, les mélangent ensemble et insufflent la vie dans les morceaux en forme de boulettes en leur tirant dessus avec le rayon.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >804</div>
                <div class="col-md-10" >
                    <p>Gohan commence ses recherches pour son livre "Science Révolutionnaire". Cet événement mène à la création de l'école d'épée Kikoukenjutsu de Trunks et Goten l'année suivante, en 805, et aux écoles de la Tortue et de la Grue rétablies par Krilin et Ten en 821. En conséquence, d'ici l'année 1000, de nombreux Terriens ont adopté les arts martiaux avancés et comprennent le contrôle du ki.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >805</div>
                <div class="col-md-10" >
                    <p>Trunks et Goten créent l'école d'épée Kikoukenjutsu, qui enseigne le principe de canaliser l'énergie ki à travers les épées pour augmenter la puissance de frappe.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >820</div>
                <div class="col-md-10" >
                    <p>Mr. Satan meurt. Le roi de la Terre lui rend hommage avec des funérailles nationales.</p>
                    <p>Les restes de l'armée galactique de Freezer attaquent la Terre pour les Dragon Balls, mais sont vaincus avec l'aide de l'école d'épée Kikoukenjutsu de Trunks et Goten.</p>
                    <p>Avec la Terre en crise, les héros du passé se rassemblent chez Maître Roshi pour éradiquer les restes des soldats de Freezer. Ceux qui battent finalement les soldats de Freezer sont Krilin, Ten Shin Han et leurs camarades, les héros du passé. Pour cacher leur identité, les guerriers portent des costumes de type Saiyaman, mais leur style de combat basé sur le ki devient un sujet brûlant et l'intérêt mondial pour le "ki" augmente.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >821</div>
                <div class="col-md-10" >
                    <p>Peut-être que la décision de Krilin d'établir son école dans la ville où Goku avait d'abord démontré sa force était une expression de son esprit compétitif. De telles croyances continuent d'être portées par les "Hermites de la Tortue", même après la mort de Krilin. La croyance de Ten Shin Han d'attaquer avec des décharges de ki concentrées à des moments précis est portée par les "Hermites de la Grue" successifs.</p>
                    <p>Krilin et Ten commencent à enseigner l'école de la Tortue et l'école de la Grue rétablies.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >834</div>
                <div class="col-md-10" >
                    <p>Les Majins influencés par Majin Mani Mani deviennent actifs dans le monde entier, devenant les ancêtres des nouvelles classes de Majin : "Ultime", "Grand" et "Karma".</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >851</div>
                <div class="col-md-10" >
                    <p>La nouvelle planète Namek est détruite par Mira et son armée en utilisant une Genki Dama. Le Grand Ancien Moori et plusieurs centaines d'autres Namekians migrent vers la Terre. À la suite de cela, les Namekians s'installent sur Terre, et Dende avertit le roi de la Terre de l'armée de Mira. Cependant, cette information est gardée secrète des citoyens moyens, car on craint qu'elle ne cause une panique. Au début, les Namekians vivent à West City. Plus tard, la plupart d'entre eux déménagent aux Roches Porunga dans les hauteurs de Yunzabit, mais certains d'entre eux restent à West City et développent leur propre culture.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >853</div>
                <div class="col-md-10" >
                    <p>Pour expier la perte de leur planète d'origine, les Namekians qui ont déménagé sur Terre commencent à s'entraîner pour se défendre. Cela aboutit à la création des bases des classes modernes "Guerrier de l'Ombre", "Guerrier Sombre", "Prêtre Dende" et "Prêtre Poko".</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >975</div>
                <div class="col-md-10" >
                    <p>Le monde adopte une nouvelle politique d'éducation des enfants : "Éducation des Fauteurs de Troubles", dans laquelle les enfants sont retirés des soins aimants de leurs parents et vivent de manière indépendante dans la nature. Les villages "Kokkara" et "Pear" sont établis.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >990</div>
                <div class="col-md-10" >
                    <p>La paix mondiale se détériore ; des organisations criminelles émergent à la suite des troubles entourant les animaux sauvages monstrueux et les bêtes démoniaques qui rôdent sur Terre. Dende fait installer des "Pierres Popo" partout dans le monde.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >991</div>
                <div class="col-md-10" >
                    <p>Le tournoi mondial des arts martiaux autorise l'utilisation d'armes et d'armures dans la division "Combat Ultime". Grâce à Mr. Satan, l'intérêt pour le tournoi mondial est renouvelé et il gagne à nouveau en popularité. Le combat du champion Morgan contre 100 robots a suscité des discussions. Les ingénieurs se sont mobilisés, affirmant "les robots ne sont pas si faibles !". Le tournoi mondial ajoute enfin une division "Combat Ultime", où les participants peuvent utiliser des armes, des armures et des robots.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >996</div>
                <div class="col-md-10" >
                    <p>Trunks du Futur, devenu un patrouilleur temporel, arrive dans sa machine temporelle et informe tout le monde de l'existence de Mira et du danger imminent qu'il pose à l'univers.</p>
                    <p>À la demande de Dende, Piccolo enquête sur les diverses organisations criminelles apparues dans le monde.</p>
                    <p>La menace de Mira est révélée. Piccolo, avec l'aide de Dende, rassemble des forces pour repousser l'invasion de Mira. Capsule Corporation commence à produire en masse un nouveau type de robot.</p>
                    <p>Dende crée plusieurs ensembles de Dragon Balls, plus faibles que les originaux, espérant que les jeunes guerriers en bénéficieront en se battant pour les obtenir. La présence de plusieurs ensembles permet aux guerriers de niveaux de compétence divers d'avoir une chance réaliste de les rassembler. Par peur qu'ils soient exploités, Dende limite leur pouvoir, restreignant les souhaits qui peuvent être exaucés. Capsule Corporation commence la production en masse du modèle de robot nommé "GBT…Hope!".</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-2 text-center" >1000</div>
                <div class="col-md-10" >
                    <p>La Terre est divisée en morceaux. Il y a des ennemis tels que les Briseurs de Temps (dirigés par Towa et Mira), les Namekians maléfiques (dirigés par Naraka), l'armée des Pantalons Rouges (dirigée par l'Androïde 9, Dr. Gero et Général Bon), et le gang Paella (un gang similaire au gang de Pilaf), et chaque groupe avec des objectifs sinistres propres...</p>
                </div>
            </div>
        </div>
    </main>
    <canvas id="myCanvas" width="100%" height="100%"></canvas>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<style>
    body, html {
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
      /* overflow: hidden; */
    }
    canvas {
        width: 100%;
        height: 100%;
        position: fixed;
        top: 0;
        left: 0;
        pointer-events: none;
    }
  </style>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    const LINE_DURATION = 2;
    const LINE_WIDTH_START = 5;

    $(document).ready(function() {
      enableDrawingCanvas();
      resizeCanvas(window.innerWidth, window.innerHeight);

      $(document).keypress(function(event) {
        if (event.key === "1") mode = 1;
        if (event.key === "2") mode = 2;

        if (event.key == "q") spread = 1;
        if (event.key == "w") spread = 2;

        if (event.key == "a") pathMode = 1;
        if (event.key == "s") pathMode = 2;

        if (event.key == "z") {
          if (lineWidthStart < 100) lineWidthStart++;
        }
        if (event.key == "x") {
          if (lineWidthStart > 1) lineWidthStart--;
        }

        if (event.key == "g") {
          if (canvas === undefined) enableDrawingCanvas();

          var poopx = new Array();
          var poopy = new Array();

          function spawn() {
            var gap = 10;
            var rows = 10;
            var cols = 3;

            var canvas = $('#myCanvas');
            var width = canvas.width();
            var height = canvas.height();
            var count = 0;

            for (var i = (width / 2) - (gap * rows); i < (width / 2) + (gap * rows); i = i + gap) {
              if (i % (gap * 2) === 0) {
                for (var j = (height / 2) - (gap * cols); j < (height / 2) + (gap * cols); j = j + gap) {
                  poopx.push(i);
                  poopy.push(j);
                }
              } else {
                for (var j = (height / 2) + (gap * cols) - gap; j > (height / 2) - (gap * cols) - gap; j = j - gap) {
                  poopx.push(i);
                  poopy.push(j);
                }
              }
            }
          }
          asd();

          function asd() {
            if (poopx.length <= 0) {
              spawn();
            }

            var x = poopx.pop();
            var y = poopy.pop();

            addPoint(x, y);

            setTimeout(function() {
              asd()
            }, 10);
          }
        }
      });
    });

    //////////////////////////
    // Variable definitions //
    //////////////////////////
    var active = true;

    var canvas;
    var context;

    var newWidth = 1000;
    var newHeight = 800;

    var mode = 1;
    var pathMode = 1;
    var spread = 2;

    var lineColor = 'rgb(237, 184, 131)';
    var lineDuration = LINE_DURATION;
    var lineFadeLinger = 1;
    var lineWidthStart = LINE_WIDTH_START;
    var fadeDuration = 50;
    var drawEveryFrame = 1; // Only adds a Point after these many 'mousemove' events

    var clickCount = 0;
    var frame = 0;

    var flipNext = true;

    var points = new Array();

    ///////////////////////
    // Program functions //
    ///////////////////////

    // Find canvas reference & enable listeners
    function enableDrawingCanvas() {
      if (canvas === undefined) {
        canvas = document.getElementById('myCanvas');
        context = canvas.getContext('2d');
        enableListeners();
        init();
      }
    }

    // Initialize animation start
    function init() {
      draw();
    }

    // Draw current state
    function draw() {
      if (active) {
        animatePoints();
        window.requestAnimFrame(draw);
      }
    }

    // Update mouse positions
    function animatePoints() {
      context.clearRect(0, 0, context.canvas.width, context.canvas.height);

      var duration = lineDuration * 1000 / 60;
      var point, lastPoint;

      if (pathMode === 2) {
        context.beginPath();
      }

      for (var i = 0; i < points.length; i++) {
        point = points[i];

        if (points[i - 1] !== undefined) {
          lastPoint = points[i - 1];
        } else {
          lastPoint = points[i];
        }

        point.lifetime += 1;

        if (point.lifetime > duration) {
          points.splice(i, 1);
          continue;
        }

        // Begin drawing stuff!
        var inc = (point.lifetime / duration); // 0 to 1 over lineDuration
        var dec = 1 - inc;

        var spreadRate;
        if (spread === 1) {
          spreadRate = lineWidthStart / (point.lifetime * 2);
        } // Lerp Decrease
        if (spread === 2) {
          spreadRate = lineWidthStart * (1 - inc);
        } // Linear Decrease

        var fadeRate = dec;

        //context.strokeStyle = lineColor;
        context.lineJoin = "round";
        context.lineWidth = spreadRate;
        context.strokeStyle = 'rgb(' + Math.floor(255) + ',' +
          Math.floor(200 - (255 * dec)) + ',' +
          Math.floor(200 - (255 * inc)) + ')';

        var distance = Point.distance(lastPoint, point);
        var midpoint = Point.midPoint(lastPoint, point);
        var angle = Point.angle(lastPoint, point);

        if (pathMode === 1) {
          context.beginPath();
        }

        if (mode === 1) {
          context.arc(midpoint.x, midpoint.y, distance / 2, angle, (angle + Math.PI), point.flip);
        }

        if (mode === 2) {
          context.moveTo(lastPoint.x, lastPoint.y);
          context.lineTo(point.x, point.y);
        }

        if (pathMode === 1) {
          context.stroke();
          context.closePath();
        }
      }

      if (pathMode === 2) {
        context.stroke();
        context.closePath();
      }

      //if (points.length > 0) { console.log(spreadRate + "|" + points.length + " points alive."); }
    }

    function addPoint(x, y) {
      flipNext = !flipNext;
      var point = new Point(x, y, 0, flipNext);
      points.push(point);
    }

    //////////////////////////////
    // Less Important functions //
    //////////////////////////////

    // RequestAnimFrame definition
    window.requestAnimFrame = (function(callback) {
      return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame ||
        function(callback) {
          window.setTimeout(callback, 1000 / 60);
        };
    })();

    // Update canvas dimensions based on input
    function resizeCanvas(w, h) {
      if (context !== undefined) {
        context.canvas.width = w;
        context.canvas.height = h;

        newWidth = w;
        newHeight = h;
      }
    }

    // Listeners for mouse and touch events
    function enableListeners() {
      // Attach listeners to the entire document
      $(document).on('mousemove', function(e) {
        if (frame === drawEveryFrame) {
          addPoint(e.pageX, e.pageY);
          frame = 0;
        }
        frame++;
      });

      $(document).on('touchstart', function(e) {
        var touch = e.touches[0];
        addPoint(touch.pageX, touch.pageY);
      });

      $(document).on('touchmove', function(e) {
        var touch = e.touches[0];
        addPoint(touch.pageX, touch.pageY);
      });

      $(document).on('touchend', function(e) {});
    }

    // POINT CLASS
    // Cartesian location of where mouse location
    // was previously at. 
    // Used to draw arcs between Points.
    var Point = class Point {
      // Define class constructor
      constructor(x, y, lifetime, flip) {
        this.x = x;
        this.y = y;
        this.lifetime = lifetime;
        this.flip = flip;
      }

      // Get the distance between a & b
      static distance(a, b) {
        const dx = a.x - b.x;
        const dy = a.y - b.y;

        return Math.sqrt(dx * dx + dy * dy);
      }

      // Get the mid point between a & b
      static midPoint(a, b) {
        const mx = a.x + (b.x - a.x) * 0.5;
        const my = a.y + (b.y - a.y) * 0.5;

        return new Point(mx, my);
      }

      // Get the angle between a & b
      static angle(a, b) {
        const dx = a.x - b.x;
        const dy = a.y - b.y;

        return Math.atan2(dy, dx);
      }

      // Simple getter for printing
      get pos() {
        return this.x + "," + this.y;
      }
    }
  </script>
</body>
</html> -->